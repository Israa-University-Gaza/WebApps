@using System.Data
@model IsraaSystem.Core.Classic.HumanResource.EmployeeQualification.EmployeeQualificationVM

@{
    Layout = null;
}

<div id="employee-page">
    @if (TempData["refresh-msg"] != null)
    {
      int status = Convert.ToInt32(TempData["refresh-msg"].ToString().Split(';')[0]);
      String msg = TempData["refresh-msg"].ToString().Split(';')[1];
      <script type="text/javascript">
            showToast("@msg", "@((status > 0) ? "success":"error")");
      </script>
    }
    <script type="text/javascript">
      setMenu('#menu-employee-qualification');
    </script>
      <div class="row">
        <div class="col-md-12">
          <div class="portlet light bordered">
            <div class="portlet-title">
              <div class="caption">
                <i class="icon-globe theme-font hide"></i>
                <span class="caption-subject font-blue-madison bold uppercase">الخبرات العلمية للموظف</span>
              </div>
              <div class="actions">
                <a href="/HumanResource/EmployeeQualification/Add?empId=@Model.filter.EmployeeID" class="btn btn-primary pop-up-lg">إضافة بيانات جديدة</a>
              </div>
            </div>
            <div class="portlet-body">
              <div class="row">
                <div class="col-md-12">
                  @if (Model != null && Model.data.Rows.Count > 0)
                  {
                    <table class="table table-striped table-hover">
                      <thead>
                        <tr>
                          <th class="wp5">#</th>
                          <th class="wp15 text-center">الجامعة</th>
                          <th class="wp10"> المؤهل</th>
                          <th class="wp5 text-center">المعدل</th>
                          <th class="wp10 text-center">سنة التخرج</th>
                          <th class="wp10 text-center">الكلية</th>
                          <th class="wp15 text-center">القسم</th>
                          <th class="wp10 text-center">الحالة</th>
                          <th class="wp20"></th>
                        </tr>
                      </thead>
                      <tbody>
                        @foreach (DataRow row in Model.data.Rows)
                        {
                          <tr>
                            <td>@row["RowNo"]</td>
                            <td class="text-center">@row["UniversityName"]</td>
                            <td class="text-center">@row["QualificationTypeName"]</td>
                            <td class="text-center">@row["GPAGraduate"]</td>
                            <td class="text-center">@row["GraduateYear"]</td>
                            <td class="text-center">@row["College"]</td>
                            <td class="text-center">@row["Department"]</td>
                            <td class="text-center">@row["QualificationStatus"]</td>
                            <td class="text-center">
                                @if (Convert.ToBoolean(row["HumanResourceAccreditation"]) != true)
                                {
                                    <a href="/HumanResource/EmployeeQualification/Accreditation/@row["ID"]" class="btn btn-sm btn-success" data-ajax="true" data-ajax-method="POST" data-ajax-mode="replace-with" data-ajax-update="#employee-qualification-refresh"><i class="fa fa-check"></i></a>
                                    <a href="/HumanResource/EmployeeQualification/Edit/@row["ID"]" class="btn btn-sm btn-default pop-up-lg"><i class="fa fa-edit"></i></a>
                                }
                                <a href="/HumanResource/EmployeeQualification/Delete/@row["ID"]" class="btn btn-sm btn-danger confirm" data-title="حذف مؤهل" data-msg="هل أنت متأكد من أنك تود حذف المؤهل ؟" data-action="حذف" data-ajax-update="#employee-page"><span class="fa fa-times"></span></a>
                            </td>
                          </tr>
                        }
                      </tbody>
                    </table>
                  }
                  else
                  {
                    <div class="alert alert-info alert-dismissible text-center" role="alert">
                      <span>لا يوجد بيانات لعرضها</span>
                    </div>
                  }
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
</div>

