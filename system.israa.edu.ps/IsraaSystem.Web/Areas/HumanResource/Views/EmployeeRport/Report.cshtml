@using IsraaSystem.Application.HumanResource
@using IsraaSystem.DataAccess.EntityFrameWork.IsraaHumanResource
@using IsraaSystem.DataAccess.Sql.HumanResource
@model IsraaSystem.Web.Areas.HumanResource.Models.EmployeeReport.EmployeeReportVm


@*
    @using IsraaSystem.Application.HumanResource
    @using IsraaSystem.DataAccess.EntityFrameWork.IsraaHumanResource
    @using IsraaSystem.Web.Common
    @using IsraaSystem.Web.Models
    @using MVCGrid.Web*@


@{
    ViewBag.Title = "Report";
    ViewBag.Menu = "#menu-dashboard";
    Layout = "~/Areas/HumanResource/Views/Shared/_Layout.cshtml";

}

@section PageStyles {
    <link href="~/assets/global/plugins/datatables/datatables.min.css" rel="stylesheet" type="text/css" />
    <link href="~/assets/global/plugins/datatables/plugins/bootstrap/datatables.bootstrap-rtl.css" rel="stylesheet" type="text/css" />
    <link href="~/assets/global/plugins/bootstrap-datepicker/css/bootstrap-datepicker3.css" rel="stylesheet" />
    <style>
        .dt-button-collection {
            width: 25% !important;
        }

        .dt-button-collection a {
                width: 49% !important;
                float: left !important;
            }

        div.dt-button-collection {
            border: 1px solid #d4c1c1 !important;
            box-shadow: unset !important;
            padding: 0 !important;
        }

        .filter {
            background-color: cornsilk;
        }

        .form-control[disabled], .form-control[readonly], fieldset[disabled] .form-control {
            background-color: #ffffff !important;
        }

        #sample_1 {
            margin: unset;
        }
    </style>
}

@section PagePlugins {
    <script src="~/assets/global/scripts/datatable.js" type="text/javascript"></script>
    <script src="~/assets/global/plugins/datatables/datatables.min.js" type="text/javascript"></script>
    <script src="~/assets/global/plugins/datatables/plugins/bootstrap/datatables.bootstrap.js" type="text/javascript"></script>

}

@section PageScripts {
    <script src="~/assets/pages/scripts/table-datatables-scroller.js"></script>
}

@section PageBreadcrumb{
    <li>
        <a href="/Home/Index">الرئيسية</a>
        <i class="fa fa-circle"></i>
    </li>
    <li>
        <a href="/Home/Index"> .. </a>
        <i class="fa fa-circle"></i>
    </li>
    <li>
        <a> .. </a>
    </li>
}

<div class="row">
    <div class="col-md-12">
        <div class="portlet light bordered">
            <div class="portlet-title">
                <div class="caption">
                    <i class="icon-settings font-green-steel"></i>
                    <span class="caption-subject font-green-steel sbold uppercase">تقرير الموظفين</span>
                </div>
                <div class="tools">
                    <a href="" class="collapse" data-original-title="" title=""> </a>

                </div>
                @*<div class="actions">
                      <div class="btn-group btn-group-devided" data-toggle="buttons">
                        <label class="btn btn-transparent dark btn-outline btn-circle btn-sm active">
                          <input type="radio" name="options" class="toggle" id="option1">Actions
                        </label>
                        <label class="btn btn-transparent dark btn-outline btn-circle btn-sm">
                          <input type="radio" name="options" class="toggle" id="option2">Settings
                        </label>
                      </div>
                    </div>*@
            </div>
            <div class="portlet-body form">

                @{
                    AjaxOptions opt = new AjaxOptions
                    {
                        InsertionMode = InsertionMode.ReplaceWith,
                        HttpMethod = "POST",
                        UpdateTargetId = "sample_1",
                        OnBegin = "TableDatatablesScroller.destroy()"

                    };
                }
                @using (Ajax.BeginForm("ReprotPost", null, opt, new { @id = "israa-form", @class = "form-horizontal" }))
                {

                    <div class="form-body">
                        <h3 class="form-section font-red-sunglo">معلومات الموظف الاساسية</h3>
                        <div class="row">
                            <div class="col-md-4 col-md-offset-1">
                                <div class="form-group">
                                    <label class="col-md-6 control-label">الإسم بالعربية</label>
                                    <div class="col-md-6">
                                        @Html.TextBoxFor(model => model.ArFirstName, new { @class = "form-control text-center", @placeholder = "الإسم الأول" })
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <div class="form-group">
                                    <div class="col-md-12">
                                        @Html.TextBoxFor(model => model.ArSecoundName, new { @class = "form-control text-center", @placeholder = "الإسم الثاني" })
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <div class="form-group">
                                    <div class="col-md-12">
                                        @Html.TextBoxFor(model => model.ArThirdName, new { @class = "form-control text-center", @placeholder = "الإسم الثالث" })
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <div class="form-group">
                                    <div class="col-md-12">
                                        @Html.TextBoxFor(model => model.ArFamilyName, new { @class = "form-control text-center", @placeholder = "اسم العائلة" })
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-4 col-md-offset-1">
                                <div class="form-group">

                                    <label class="col-md-6 control-label">الإسم بالإنجليزية</label>
                                    <div class="col-md-6">
                                        @Html.TextBoxFor(model => model.EnFirstName, new { @class = "form-control text-center", @placeholder = "First Name" })
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <div class="form-group">
                                    <div class="col-md-12">
                                        @Html.TextBoxFor(model => model.EnSecoundName, new { @class = "form-control text-center", @placeholder = "Second Name" })
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <div class="form-group">
                                    <div class="col-md-12">
                                        @Html.TextBoxFor(model => model.EnThirdName, new { @class = "form-control text-center", @placeholder = "Third Name" })
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-2">
                                <div class="form-group">
                                    <div class="col-md-12">
                                        @Html.TextBoxFor(model => model.EnFamilyName, new { @class = "form-control text-center", @placeholder = "Last Name" })
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="col-md-6 control-label">الجنسية</label>
                                    <div class="col-md-6">
                                        @Html.DropDownListFor(model => model.NationalityID, new SelectList(SelectDA.ddlNationalities(), "Value", "Text"), "إختر الجنسية", new { @class = "form-control" })
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="col-md-4 control-label">الجنس</label>
                                    <div class="col-md-6">
                                        @Html.DropDownListFor(model => model.Gender, new SelectList(SelectDA.ddlGenders(), "Value", "Text"), "اختر الجنس ", new { @class = "form-control" })
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="col-md-6 control-label">تاريخ الميلاد</label>
                                    <div class="col-md-6">
                                        @Html.TextBoxFor(model => model.DateOfBirth, new { @class = "form-control date-picker", placeholder = "yyyy/mm/dd" })
                                    </div>
                                </div>
                            </div>
                            @*<div class="col-md-6">
                                  <div class="form-group">
                                    <label class="col-md-4 control-label">مكان الميلاد</label>
                                    <div class="col-md-6">
                                      @Html.TextBoxFor(model => model.PlaceOfBirth, new { @class = "form-control" })
                                    </div>
                                  </div>
                                </div>*@
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="col-md-6 control-label">الحالة الإجتماعية</label>
                                    <div class="col-md-6">
                                        @Html.DropDownListFor(model => model.MaritalStatusID, new SelectList(SelectDA.ddlMaritalStatuses(), "Value", "Text"), "إختر الحالة الإجتماعية", new { @class = "form-control" })
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="col-md-4 control-label">رقم الهوية</label>
                                    <div class="col-md-6">
                                        @Html.TextBoxFor(model => model.SSN, new { @class = "form-control" })
                                    </div>
                                </div>
                            </div>
                        </div>
                        <h3 class="form-section font-red-sunglo">العنوان</h3>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="col-md-6 control-label">الدولة</label>
                                    <div class="col-md-6">
                                        @Html.DropDownListFor(model => model.CountryID, new SelectList(Model.Countries, "Value", "Text"), "إختر الدولة", new { @class = "form-control ddl-dependent", data_url = "/HumanResource/EmployeeRport/ddlGovernorate/", data_target_id = "#GovernorateID" })
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="col-md-4 control-label">المحافظة</label>
                                    <div class="col-md-6">
                                        @Html.Partial("ddlGovernorate", Model)
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="col-md-6 control-label">المدينة</label>
                                    <div class="col-md-6">
                                        @Html.Partial("ddlCity", Model)
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                            </div>
                        </div>
                        <h3 class="form-section font-red-sunglo">معلومات الاتصال</h3>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group ">
                                    <label class="col-md-6 control-label">الجوال</label>
                                    <div class="col-md-6">
                                        @Html.TextBoxFor(model => model.Mobile, new { @class = "form-control" })
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group ">
                                    <label class="col-md-4 control-label">الهاتف</label>
                                    <div class="col-md-6">
                                        @Html.TextBoxFor(model => model.Phone, new { @class = "form-control" })
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="col-md-6 control-label">البريد الالكتروني</label>
                                    <div class="col-md-6">
                                        @Html.TextBoxFor(model => model.Email, new { @class = "form-control" })
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="col-md-4 control-label">البريد الجامعي</label>
                                    <div class="col-md-6">
                                        @Html.TextBoxFor(model => model.UniversityEmail, new { @class = "form-control" })
                                    </div>
                                </div>
                            </div>
                        </div>



                        <h3 class="form-section font-red-sunglo"> معلومات الموقع الوظيفي</h3>
                        <div class="form-group">
                            <label class="col-md-3 control-label">المسؤول المباشر</label>
                            <div class="col-md-8">
                                @Html.DropDownListFor(model => model.EmployeeDManagerID, new SelectList(SelectDA.ddlEmployees(), "Value", "Text"), "إختر المسؤول المباشر", new { @class = "form-control select2" })
                            </div>
                        </div>
                        <div class="form-group">
                            <label class="col-md-3 control-label">القسم</label>
                            <div class="col-md-8">


                                @{
                                    var ddlDepartments = SelectDA.ddlDepartments();
                                }

                                <select class="optgroup" id='ddlDepartments' name="ddlDepartments" multiple='multiple'>
                                    @foreach (var item in ddlDepartments)
                                    {
                                        <option value=@item.Value>@item.Text</option>

                                    }

                                </select>


                            </div>
                        </div>
                        @*<div class="form-group">
                              <label class="col-md-3 control-label">الوظيفة</label>
                              <div class="col-md-8">
                                @Html.Partial("ddlDepartmentJobs", Model)
                              </div>
                            </div>*@

                        <div class="form-group">
                            <label class="col-md-3 control-label">الكادر</label>
                            <div class="col-md-8">
                                @{
                                    var ddlCaders = SelectDA.ddlCaders();
                                }
                                <select class="optgroup" id='ddlCaders' name="ddlCader" multiple='multiple'>

                                    @foreach (var item in ddlCaders)
                                    {
                                        <option value=@item.Value>@item.Text</option>

                                    }
                                </select>

                            </div>
                        </div>


                        @*<div class="form-group">
                              <label class="col-md-3 control-label">الكادر</label>
                              <div class="col-md-8">
                                @Html.DropDownListFor(model => model.CaderID, new SelectList(SelectDA.ddlCaders(), "Value", "Text"), "إختر الكادر", new { @class = "form-control" })
                              </div>
                            </div>*@

                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="col-md-6 control-label">حالة الإنتساب</label>
                                    <div class="col-md-6">
                                        @Html.DropDownListFor(model => model.PlacementStatusID, new SelectList(SelectDA.ddlPlacementStatuses(), "Value", "Text"), "إختر حالة الإنتساب", new { @class = "form-control" })
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="col-md-4 control-label">نوع الإنتساب</label>
                                    <div class="col-md-6">
                                        @Html.DropDownListFor(model => model.PlacementTypeID, new SelectList(SelectDA.ddlPlacementTypes(), "Value", "Text"), "إختر نوع الإنتساب", new { @class = "form-control" })
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="col-md-6 control-label">من</label>
                                    <div class="col-md-6">
                                        @Html.TextBoxFor(model => model.EmployeePlacement_DateFrom, new { @class = "form-control text-center date-picker", placeholder = "yyyy/mm/dd" })
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="col-md-4 control-label">إلى</label>
                                    <div class="col-md-6">
                                        @Html.TextBoxFor(model => model.EmployeePlacement_DateTo, new { @class = "form-control text-center date-picker", placeholder = "yyyy/mm/dd" })
                                    </div>
                                </div>
                            </div>
                        </div>
                        <h3 class="form-section font-red-sunglo">حالة الموظف</h3>
                        <div class="form-group">
                            <label class="col-md-3 control-label">حالة الموظف</label>
                            <div class="col-md-8">
                                @*@Html.DropDownListFor(model => model.EmployeeStatusID, new SelectList(SelectDA.ddlEmployeeStatuses(true), "Value", "Text"), "إختر حالة الموظف", new { @class = "form-control" })*@


                                @{
                                    var ddlEmployeeStatuses = SelectDA.ddlEmployeeStatuses(true);
                                }

                                <select class="optgroup" id='ddlEmployeeStatuses' name="ddlEmployeeStatuses" multiple='multiple'>
                                    @foreach (var item in ddlEmployeeStatuses)
                                    {
                                        <option value=@item.Value>@item.Text</option>

                                    }

                                </select>


                            </div>
                        </div>
                        @*<div class="row">
                              <div class="col-md-6">
                                <div class="form-group">
                                  <label class="col-md-6 control-label">من</label>
                                  <div class="col-md-6">
                                    @Html.TextBoxFor(model => model.EmpStatus_DateFrom, new { @class = "form-control text-center date-picker", placeholder = "yyyy/mm/dd" })
                                  </div>
                                </div>
                              </div>
                              <div class="col-md-6">
                                <div class="form-group">
                                  <label class="col-md-4 control-label">إلى</label>
                                  <div class="col-md-6">
                                    @Html.TextBoxFor(model => model.EmpStatus_DateTo, new { @class = "form-control text-center date-picker", placeholder = "yyyy/mm/dd" })
                                  </div>
                                </div>
                              </div>
                            </div>*@
                        <h3 class="form-section font-red-sunglo">نوع التوظيف</h3>
                        <div class="form-group">
                            <label class="col-md-3 control-label">رقم الموظف</label>
                            <div class="col-md-8">
                                @*<input class="form-control" data-val="true" data-val-required="الرجاء ادراج رقم الموظف" id="EmpEmploymentType_EmployeeNo" name="EmpEmploymentType.EmployeeNo" placeholder="رقم الموظف" type="text" value="">*@
                                @Html.TextBoxFor(model => model.EmployeeNo, new { @class = "form-control text-center", @placeholder = "الرجاء ادراج رقم الموظف" })


                            </div>
                        </div>

                        <div class="form-group">
                            <label class="col-md-3 control-label">نوع التوظيف</label>
                            <div class="col-md-8">
                                @*@Html.DropDownListFor(model => model.EmploymentTypeID, new SelectList(SelectDA.ddlEmploymentTypes(null), "Value", "Text"), "إختر نوع التوظيف", new { @class = "form-control" })*@



                                @{
                                    var ddlEmploymentTypes = SelectDA.ddlEmploymentTypes(true);
                                }

                                <select class="optgroup" id='ddlEmploymentTypes' name="ddlEmploymentTypes" multiple='multiple'>
                                    @foreach (var item in ddlEmploymentTypes)
                                    {
                                        <option value=@item.Value>@item.Text</option>

                                    }

                                </select>


                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="col-md-6 control-label">من</label>
                                    <div class="col-md-6">
                                        @Html.TextBoxFor(model => model.EmpEmploymentType_DateFrom, new { @class = "form-control text-center date-picker", placeholder = "yyyy/mm/dd" })
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="col-md-4 control-label">إلى</label>
                                    <div class="col-md-6">
                                        @Html.TextBoxFor(model => model.EmpEmploymentType_DateTo, new { @class = "form-control text-center date-picker", placeholder = "yyyy/mm/dd" })
                                    </div>
                                </div>
                            </div>
                        </div>
                        <h4 class="form-section font-red-sunglo">الدوام الافتراضي</h4>
                        <div class="form-group">
                            <label class="col-md-3 control-label">نوع النسق</label>
                            <div class="col-md-8">
                                @*@Html.DropDownListFor(model => model.AttendanceFormatID, new SelectList(SelectDA.ddlAttendanceFormats(), "Value", "Text"), "إختر نوع النسق", new { @class = "form-control" })*@

                                @{
                                    var ddlAttendanceFormats = SelectDA.ddlAttendanceFormats();
                                }

                                <select class="optgroup" id='ddlAttendanceFormats' name="ddlAttendanceFormats" multiple='multiple'>
                                    @foreach (var item in ddlAttendanceFormats)
                                    {
                                        <option value=@item.Value>@item.Text</option>

                                    }

                                </select>

                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="col-md-6 control-label">من</label>
                                    <div class="col-md-6">
                                        @Html.TextBoxFor(model => model.EmployeeAttendanceFormat_ActiveFromDate, new { @class = "form-control text-center date-picker", placeholder = "yyyy/mm/dd" })
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="form-group">
                                    <label class="col-md-4 control-label">إلى</label>
                                    <div class="col-md-6">
                                        @Html.TextBoxFor(model => model.EmployeeAttendanceFormat_ActiveToDate, new { @class = "form-control text-center date-picker", placeholder = "yyyy/mm/dd" })
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                        </div>
                        <div class="clearfix"></div>
                    </div>
                    <div class="form-actions">
                        <div class="row">
                            <div class="col-md-offset-9 col-md-2">
                                <button type="submit" class="btn green btn-block">بحث</button>

                            </div>
                            <div class="col-md-1"></div>
                        </div>
                    </div>


                }

            </div>
        </div>
    </div>
</div>

<div class="row">
    <div class="col-md-12">
        <!-- BEGIN EXAMPLE TABLE PORTLET-->
        <div class="portlet light bordered">
            <div class="portlet-title">
                <div class="caption font-green-steel">
                    <i class="icon-settings font-dark"></i>
                    <span class="caption-subject  bold uppercase">تقرير الموظفين </span>
                </div>
                <div class="tools"> </div>
            </div>
            <div class="portlet-body">

                @Html.Partial("_ReportList", new List<EmployeeDto>());


            </div>
        </div>
    </div>
</div>



