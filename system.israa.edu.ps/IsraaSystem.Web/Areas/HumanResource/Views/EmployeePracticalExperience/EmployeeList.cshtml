@using System.Data
@model IsraaSystem.Core.Classic.HumanResource.EmployeePracticalExperience.EmployeePracticalExperienceVM

@{
  Layout = null;
}
<div id="employee-page">
  <div id="employee-practical-experience">
    @if (TempData["toast-msg"] != null)
    {
      int status = Convert.ToInt32(TempData["toast-msg"].ToString().Split(';')[0]);
      String msg = TempData["toast-msg"].ToString().Split(';')[1];
      <script type="text/javascript">
            showToast("@msg", "@((status > 0) ? "success":"error")");
      </script>
    }
    <script type="text/javascript">
      setMenu('#menu-employee-practical-experience');
    </script>
    <div class="row">
      <div class="col-md-12">
        <div class="portlet light bordered">
          <div class="portlet-title">
            <div class="caption">
              <i class="icon-globe theme-font hide"></i>
              <span class="caption-subject font-blue-madison bold uppercase">الخبرات العملية</span>
            </div>
            <div class="actions">
              <a href="/HumanResource/EmployeePracticalExperience/EmployeeAdd?empId=@Model.filter.EmployeeID" class="btn btn-primary pop-up-lg">إضافة خبرة عملية جديدة</a>
            </div>
          </div>
          <div class="portlet-body">
            <div class="row">
              <div class="col-md-12">
                @if (Model.data != null && Model.data.Rows.Count > 0)
                {
                  <table class="table table-striped table-hover">
                    <thead>
                      <tr>
                        <th class="wp5">#</th>
                        <th class="wp20 text-center">عنوان العمل</th>
                        <th class="wp20 text-center">مكان العمل</th>
                        <th class="wp15 text-center">مجال العمل</th>
                        <th class="wp10 text-center">الحالة</th>
                        <th class="wp30"></th>
                      </tr>
                    </thead>
                    <tbody>
                      @foreach (DataRow row in Model.data.Rows)
                      {
                        <tr>
                          <td>@row["RowNo"]</td>
                          <td class="text-center">@row["Job"]</td>
                          <td class="text-center">@row["WorkPlace"]</td>
                          <td class="text-center">@row["WorkField"]</td>
                          <td class="text-center">@row["PracticalExperienceStatus"]</td>
                          <td class="text-center">
                            @*<a href="/HumanResourse/EmployeePracticalExperience/EmployeeEdit/@row["ID"]" class="btn btn-sm btn-primary pop-up-lg"><i class="fa fa-edit"></i> تعديل</a>*@
                            @*<a href="/HumanResource/EmployeePracticalExperience/Delete/@row["ID"]" data-ajax-method="POST" class="btn btn-sm btn-danger confirm" data-title="حذف خبرة عملية" data-msg="هل أنت متأكد من أنك تود حذف خبرة عملية للموظف ؟" data-action="حذف" data-ajax-update="#employee-practical-experience"><i class="fa fa-times"></i> حذف</a>
                              <a href="/HumanResource/EmployeePracticalExperience/HRAccreditation/@row["ID"]" data-ajax-method="POST" class="btn btn-sm btn-primary confirm" data-title="اعتماد خبرة عملية" data-msg="هل أنت متأكد من أنك تود اعتماد خبرة عملية للموظف ؟" data-action="اعتماد" data-ajax-update="#employee-practical-experience"><i class="fa fa-check"></i> اعتماد</a>*@

                            <!-- TODO make edit after finish -->
                            <a href="/HumanResource/EmployeePracticalExperience/HRAccreditation/@row["ID"]" class="btn btn-sm btn-success" data-ajax="true" data-ajax-method="POST" data-ajax-mode="replace-with" data-ajax-update="#employee-practical-experience"><i class="fa fa-check"></i> </a>
                            <!-- TODO make confirm msg here  -->
                            <a href="/HumanResource/EmployeePracticalExperience/Delete/@row["ID"]" class="btn btn-sm btn-danger confirm" data-title="حذف مستند" data-msg="هل أنت متأكد من أنك تود حذف العنصر" data-action="حذف" data-ajax="true" data-ajax-method="POST" data-ajax-mode="replace-with" data-ajax-update="#employee-practical-experience"><span class="fa fa-times"></span></a>



                          </td>
                        </tr>
                      }
                    </tbody>
                  </table>
                }
                else
                {
                  <div class="alert alert-info alert-dismissible text-center" role="alert">
                    <span>لا يوجد بيانات لعرضها</span>
                  </div>
                }
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
