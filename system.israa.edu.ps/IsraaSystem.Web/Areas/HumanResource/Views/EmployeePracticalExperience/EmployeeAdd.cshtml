@model IsraaSystem.Core.Classic.HumanResource.EmployeePracticalExperience.EmployeePracticalExperience
@{
  Layout = null;
}

<div id="add-employee-practical-experience" class="modal-content">
  @if (TempData["add-msg"] != null)
  {
    int status = Convert.ToInt32(TempData["add-msg"].ToString().Split(';')[0]);
    String msg = TempData["add-msg"].ToString().Split(';')[1];
    <script type="text/javascript">
      showToast("@msg", "@((status > 0) ? "success":"error")");
    </script>
    if (status > 0)
    {
      <script type="text/javascript">
        $("#employee-practical-experience").load("/HumanResource/EmployeePracticalExperience/EmployeeList/@Model.EmployeeID");
      </script>
    }


  }


  <script type="text/javascript">


    $(document).ready(function () {
      var bar = $('.progress-bar');
      var percent = $('.percent');

      $('#form-add-employee-PracticalExperience').ajaxForm({
        beforeSend: function () {
          var percentVal = '0%';
          bar.width(percentVal);
          percent.html(percentVal);
        },
        uploadProgress: function (event, position, total, percentComplete) {
          var percentVal = percentComplete + '%';
          bar.width(percentVal);
          percent.html(percentVal);
        },
        complete: function (xhr) {
          $('#add-employee-practical-experience').replaceWith(xhr.responseText);
        }
      });
    });


  </script>




  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
    <h4 class="modal-title">إضافة خبرة عملية جديدة</h4>
  </div>
  <div class="modal-body modal-form">
    <div class="portlet-body form">
      <form id="form-add-employee-PracticalExperience" class="form-horizontal" action="/HumanResource/EmployeePracticalExperience/EmployeeAdd" method="post" enctype="multipart/form-data">

      @*@using (Ajax.BeginForm("EmployeeAdd", "EmployeePracticalExperience", opt, new { @class = "form-horizontal", @id = "form-add-employee-PracticalExperience" }))
      {*@

      @*@using (Html.BeginForm("EmployeeAdd", "EmployeePracticalExperience", FormMethod.Post, new { @class = "form-horizontal", id = "form-add-employee-PracticalExperience"  }))
      {*@

        @*@Html.AntiForgeryToken()*@
        <div class="form-body">
          @Html.HiddenFor(model => model.EmployeeID)
          <div class="form-group">
            <label class="col-md-3 control-label">عنوان العمل</label>
            <div class="col-md-3">
              @Html.TextBoxFor(model => model.Job, new { @class = "form-control text-center", placeholder = "عنوان العمل" })
              @Html.ValidationMessageFor(model => model.Job, "", new { @class = "text-danger help-block" })
            </div>
            <label class="col-md-3 control-label">مكان العمل</label>
            <div class="col-md-3">
              @Html.TextBoxFor(model => model.WorkPlace, new { @class = "form-control text-center", placeholder = "مكان العمل" })
              @Html.ValidationMessageFor(model => model.WorkPlace, "", new { @class = "text-danger help-block" })
            </div>
          </div>
          <div class="form-group">
            <label class="col-md-3 control-label">مجال العمل</label>
            <div class="col-md-3">
              @Html.TextBoxFor(model => model.WorkField, new { @class = "form-control text-center", placeholder = "مجال العمل" })
              @Html.ValidationMessageFor(model => model.WorkField, "", new { @class = "text-danger help-block" })
            </div>
            <label class="col-md-3 control-label">تفاصيل العمل</label>
            <div class="col-md-3">
              @Html.TextBoxFor(model => model.WorkDetails, new { @class = "form-control text-center", placeholder = "تفاصيل العمل" })
            </div>
          </div>
          <div class="form-group">
            <label class="col-md-3 control-label">تاريخ بداية العمل</label>
            <div class="col-md-3">
              @Html.TextBoxFor(model => model.WorkFromDate, new { @class = "form-control text-center date-picker", placeholder = "تاريخ بداية العمل" })
              @Html.ValidationMessageFor(model => model.WorkFromDate, "", new { @class = "text-danger help-block" })
            </div>
            <label class="col-md-3 control-label">تاريخ نهاية العمل</label>
            <div class="col-md-3">
              @Html.TextBoxFor(model => model.WorkToDate, new { @class = "form-control text-center date-picker", placeholder = "تاريخ نهاية العمل" })
            </div>
          </div>
          <div class="form-group">
            <label class="col-md-3 control-label">أسباب ترك العمل</label>
            <div class="col-md-9">
              @Html.TextAreaFor(model => model.WorkLeavingReason, new { @class = "form-control text-center" })
            </div>
          </div>
          <div class="form-group">
            <label class="col-md-3 control-label">اسم صاحب العمل</label>
            <div class="col-md-3">
              @Html.TextBoxFor(model => model.IdentifiersName, new { @class = "form-control text-center", placeholder = "اسم صاحب العمل" })
            </div>
            <label class="col-md-3 control-label">رقم جوال صاحب العمل</label>
            <div class="col-md-3">
              @Html.TextBoxFor(model => model.IdentifiersMobile, new { @class = "form-control text-center", placeholder = "رقم جوال صاحب العمل" })
            </div>
          </div>
          @*<div class="form-group">
            <label class="col-md-3 control-label">ارفع شهادة الخبرة العملية</label>
            <div class="col-md-3">
              <input type="file" name="file" />
              <div class="progress" style="width:50%">
                <div class="progress-bar"></div>
                <div class="percent">0%</div>
              </div>
              <div id="status"></div>
            </div>
            <label class="col-md-3 control-label">اعتماد</label>
            <div class="col-md-3">
              @Html.CheckBoxFor(model => model.IsAccredit)
            </div>
          </div>*@
          <div class="form-group">
            <label class="col-md-3 control-label">المستند</label>
            <div class="col-md-6">
              <div class="fileinput fileinput-new" data-provides="fileinput">
                <div class="input-group">
                  <div class="form-control uneditable-input input-fixed input-medium" data-trigger="fileinput">
                    <i class="fa fa-file fileinput-exists"></i>&nbsp;
                    <span class="fileinput-filename"> </span>
                  </div>
                  <span class="input-group-addon btn default btn-file">
                    <span class="fileinput-new">إختر المستند</span>
                    <span class="fileinput-exists">تغير</span>
                    <input type="file" name="file">
                  </span>
                  <a href="javascript:;" class="input-group-addon btn red fileinput-exists" data-dismiss="fileinput">إلغاء</a>
                </div>
              </div>
            </div>
            <div class="col-md-2">
              <div class="progress" style="height: 34px;padding: 5px; border:1px solid #ddd;margin-bottom:0;">
                <div class="progress-bar" style="border-radius: 3px;"></div>
                <div class="percent text-center" style="width:105px; line-height: 24px;color: #b3acac;position: absolute;">0 %</div>
              </div>
            </div>
          </div>
        </div>
        <div class="form-actions">
          <div class="row">
            <div class="col-md-offset-2 col-md-8">
              <input type="submit" class="btn btn-primary" value="حفظ">
              <button type="button" class="btn btn-danger" data-dismiss="modal">إلغاء</button>
              @Ajax.ActionLink("خبرة عملية جديدة", "EmployeeAdd", Model.EmployeeID, new AjaxOptions
                                                                                      {
                                                                                        InsertionMode = InsertionMode.ReplaceWith,
                                                                                        HttpMethod = "Get",
                                                                                        UpdateTargetId = "add-employee-practical-experience"
                                                                                      }, new { @class = "btn btn-success pull-right" })
            </div>
          </div>
        </div>








      </form>
    </div>
  </div>
</div>



